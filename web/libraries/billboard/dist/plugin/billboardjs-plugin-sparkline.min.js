/*!
 * Copyright (c) 2017 ~ present NAVER Corp.
 * billboard.js project is licensed under the MIT license
 *
 * billboard.js, JavaScript chart library
 * https://naver.github.io/billboard.js/
 *
 * @version 3.10.3
 * @requires billboard.js
 * @summary billboard.js plugin
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3-selection"),require("d3-brush")):"function"==typeof define&&define.amd?define("bb",["d3-selection","d3-brush"],e):"object"==typeof exports?exports.bb=e(require("d3-selection"),require("d3-brush")):(t.bb=t.bb||{},t.bb.plugin=t.bb.plugin||{},t.bb.plugin.sparkline=e(t.d3,t.d3))}(this,(function(t,e){return function(){"use strict";var n={514:function(t){t.exports=e},288:function(e){e.exports=t}},i={};function r(t){var e=i[t];if(void 0!==e)return e.exports;var o=i[t]={exports:{}};return n[t](o,o.exports,r),o.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var o={};return function(){function t(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e,n=1;n<arguments.length;n++)e=null!=arguments[n]?arguments[n]:{},n%2?c(Object(e),!0).forEach((function(n){var i,r,o;i=t,r=n,o=e[n],(r=s(r))in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}r.d(o,{default:function(){return _}});const l={button:"bb-button",chart:"bb-chart",empty:"bb-empty",main:"bb-main",target:"bb-target",EXPANDED:"_expanded_"};a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a({},l),{arc:"bb-arc",arcLabelLine:"bb-arc-label-line",arcs:"bb-arcs",chartArc:"bb-chart-arc",chartArcs:"bb-chart-arcs",chartArcsBackground:"bb-chart-arcs-background",chartArcsTitle:"bb-chart-arcs-title",needle:"bb-needle"}),{area:"bb-area",areas:"bb-areas"}),{axis:"bb-axis",axisX:"bb-axis-x",axisXLabel:"bb-axis-x-label",axisY:"bb-axis-y",axisY2:"bb-axis-y2",axisY2Label:"bb-axis-y2-label",axisYLabel:"bb-axis-y-label"}),{bar:"bb-bar",bars:"bb-bars",chartBar:"bb-chart-bar",chartBars:"bb-chart-bars"}),{candlestick:"bb-candlestick",candlesticks:"bb-candlesticks",chartCandlestick:"bb-chart-candlestick",chartCandlesticks:"bb-chart-candlesticks",valueDown:"bb-value-down",valueUp:"bb-value-up"}),{chartCircles:"bb-chart-circles",circle:"bb-circle",circles:"bb-circles"}),{colorPattern:"bb-color-pattern",colorScale:"bb-colorscale"}),{dragarea:"bb-dragarea",INCLUDED:"_included_"}),{chartArcsGaugeMax:"bb-chart-arcs-gauge-max",chartArcsGaugeMin:"bb-chart-arcs-gauge-min",chartArcsGaugeUnit:"bb-chart-arcs-gauge-unit",chartArcsGaugeTitle:"bb-chart-arcs-gauge-title",gaugeValue:"bb-gauge-value"}),{legend:"bb-legend",legendBackground:"bb-legend-background",legendItem:"bb-legend-item",legendItemEvent:"bb-legend-item-event",legendItemHidden:"bb-legend-item-hidden",legendItemPoint:"bb-legend-item-point",legendItemTile:"bb-legend-item-tile"}),{chartLine:"bb-chart-line",chartLines:"bb-chart-lines",line:"bb-line",lines:"bb-lines"}),{eventRect:"bb-event-rect",eventRects:"bb-event-rects",eventRectsMultiple:"bb-event-rects-multiple",eventRectsSingle:"bb-event-rects-single"}),{focused:"bb-focused",defocused:"bb-defocused",legendItemFocused:"bb-legend-item-focused",xgridFocus:"bb-xgrid-focus",ygridFocus:"bb-ygrid-focus"}),{grid:"bb-grid",gridLines:"bb-grid-lines",xgrid:"bb-xgrid",xgridLine:"bb-xgrid-line",xgridLines:"bb-xgrid-lines",xgrids:"bb-xgrids",ygrid:"bb-ygrid",ygridLine:"bb-ygrid-line",ygridLines:"bb-ygrid-lines",ygrids:"bb-ygrids"}),{chartRadar:"bb-chart-radar",chartRadars:"bb-chart-radars"}),{region:"bb-region",regions:"bb-regions"}),{selectedCircle:"bb-selected-circle",selectedCircles:"bb-selected-circles",SELECTED:"_selected_"}),{shape:"bb-shape",shapes:"bb-shapes"}),{brush:"bb-brush",subchart:"bb-subchart"}),{chartText:"bb-chart-text",chartTexts:"bb-chart-texts",text:"bb-text",texts:"bb-texts",title:"bb-title",TextOverlapping:"text-overlapping"}),{tooltip:"bb-tooltip",tooltipContainer:"bb-tooltip-container",tooltipName:"bb-tooltip-name"}),{treemap:"bb-treemap",chartTreemap:"bb-chart-treemap",chartTreemaps:"bb-chart-treemaps"}),{buttonZoomReset:"bb-zoom-reset",zoomBrush:"bb-zoom-brush"});let b=function(){function e(t){void 0===t&&(t={}),this.$$=void 0,this.options=void 0,this.options=t}var n=e.prototype;return n.$beforeInit=function(){},n.$init=function(){},n.$afterInit=function(){},n.$redraw=function(){},n.$willDestroy=function(){var e=this;Object.keys(this).forEach(function(n){t(this,e),this[n]=null,delete this[n]}.bind(this))},e}();b.version="3.10.3";let u=function(){return{selector:void 0}};r(288),r(514);const d="object"==typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis||"object"==typeof global&&null!==global&&global.Object===Object&&global||"object"==typeof self&&null!==self&&self.Object===Object&&self||Function("return this")(),h=null==d?void 0:d.document,f=function(e){var n=this;const i="function"==typeof(null==e?void 0:e.requestAnimationFrame)&&"function"==typeof(null==e?void 0:e.cancelAnimationFrame),r="function"==typeof(null==e?void 0:e.requestIdleCallback)&&"function"==typeof(null==e?void 0:e.cancelIdleCallback),o=function(e){return t(this,n),setTimeout(e,1)}.bind(this),s=function(e){return t(this,n),clearTimeout(e)}.bind(this);return[i?e.requestAnimationFrame:o,i?e.cancelAnimationFrame:s,r?e.requestIdleCallback:o,r?e.cancelIdleCallback:s]}(d);f[0],f[1],f[2],f[3];var p=void 0;(function(e){return t(this,p),e||0===e}).bind(void 0),function(e){return t(this,p),"function"==typeof e}.bind(void 0);const g=function(e){return t(this,p),"string"==typeof e}.bind(void 0),v=function(e){return t(this,p),"number"==typeof e}.bind(void 0),y=function(e){return t(this,p),void 0===e}.bind(void 0),m=function(e){return t(this,p),void 0!==e}.bind(void 0),x=(function(e){return t(this,p),"boolean"==typeof e}.bind(void 0),function(e){return t(this,p),10*Math.ceil(e/10)}.bind(void 0),function(e){return t(this,p),Math.ceil(e)+.5}.bind(void 0),function(e){return t(this,p),e[1]-e[0]}.bind(void 0),function(e){return t(this,p),"object"==typeof e}.bind(void 0)),O=function(e){return t(this,p),y(e)||null===e||g(e)&&0===e.length||x(e)&&!(e instanceof Date)&&0===Object.keys(e).length||v(e)&&isNaN(e)}.bind(void 0),w=(function(e){return t(this,p),!O(e)}.bind(void 0),function(e){return t(this,p),Array.isArray(e)}.bind(void 0)),j=function(e){return t(this,p),e&&!(null!=e&&e.nodeType)&&x(e)&&!w(e)}.bind(void 0);(function(e){return t(this,p),e.charAt(0).toUpperCase()+e.slice(1)}).bind(void 0);(function(e){return t(this,p),[].slice.call(e)}).bind(void 0);function $(e){for(var n=this,i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(!r.length||1===r.length&&!r[0])return e;const s=r.shift();return j(e)&&j(s)&&Object.keys(s).forEach(function(i){t(this,n);const r=s[i];j(r)?(e[i]||(e[i]={}),e[i]=$(e[i],r)):e[i]=w(r)?r.concat():r}.bind(this)),$.apply(void 0,[e].concat(r))}(function(e,n,i){void 0===i&&(i=1),t(this,p);const r=[],o=0|Math.max(0,Math.ceil((n-e)/i));for(let t=e;t<o;t++)r.push(e+t*i);return r}).bind(void 0),function(){var e=this;t(this,p);const n=function(){return t(this,e),{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0}}.bind(this);try{return new MouseEvent("t"),function(i,r,o){void 0===o&&(o=n()),t(this,e),i.dispatchEvent(new MouseEvent(r,o))}.bind(this)}catch(i){return function(i,r,o){void 0===o&&(o=n()),t(this,e);const s=h.createEvent("MouseEvent");s.initMouseEvent(r,o.bubbles,o.cancelable,d,0,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),i.dispatchEvent(s)}.bind(this)}}.bind(void 0)(),function(e,n,i){t(this,p);const r=new Touch($({identifier:Date.now(),target:e,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},i));e.dispatchEvent(new TouchEvent(n,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[r],targetTouches:[],changedTouches:[r]}))}.bind(void 0);function E(e){var n=this;const i=this.config;let r,o,s;const c=function(){t(this,n);const e=o.shift();return e&&r&&x(r)&&e in r?(r=r[e],c()):e?void 0:r}.bind(this);Object.keys(i).forEach(function(a){t(this,n),r=e,o=a.split("_"),s=c(),m(s)&&(i[a]=s)}.bind(this)),this.api&&(this.state.orgConfig=e)}let _=function(i){var r,o;function s(t){var n=i.call(this,t)||this;return n.config=void 0,n.element=void 0,n.config=new u,e(n)||e(n)}o=i,(r=s).prototype=Object.create(o.prototype),r.prototype.constructor=r,n(r,o);var c=s.prototype;return c.$beforeInit=function(){E.call(this,this.options),this.validate(),this.element=[].slice.call(document.querySelectorAll(this.config.selector)),this.overrideInternals(),this.overrideOptions(),this.overHandler=this.overHandler.bind(this),this.moveHandler=this.moveHandler.bind(this),this.outHandler=this.outHandler.bind(this)},c.validate=function(){const t=this.$$,e=this.config;let n="";if(e.selector&&document.querySelector(e.selector)||(n="No holder elements found from given selector option."),(t.hasType("bubble")||t.hasType("scatter")||t.hasArcType(t.data.targets))&&(n="Contains non supported chart types."),n)throw new Error("[Sparkline plugin] "+n)},c.overrideInternals=function(){const t=this.$$,e=t.getBarW,n=t.getIndices;t.getIndices=function(t,e,i){return"getShapeX"===i?{}:n.call(this,t,e)},t.getBarW=function(t,n){return e.call(this,t,n,1)}},c.overrideOptions=function(){var e=this;const n=this.$$.config;if(n.legend_show=!1,n.resize_auto=!1,n.axis_x_show=!1,!1!==n.padding){const i=function(n){return t(this,e),Object.keys(n||{}).length>0}.bind(this);i(n.axis_x_padding)&&(n.axis_x_padding={left:15,right:15,unit:"px"}),i(n.axis_y_padding)&&(n.axis_y_padding=5)}n.axis_y_show=!1,n.tooltip_position||(n.tooltip_position=function(t,e,n){const i=this.internal.state.event;let r=i.pageY-1.35*n,o=i.pageX-e/2;return r<0&&(r=0),o<0&&(o=0),{top:r,left:o}})},c.$init=function(){var t;const e=this.$$.$el;e.chart.style("width","0").style("height","0").style("pointer-events","none"),(null==(t=e.tooltip)?void 0:t.node())&&document.body.appendChild(e.tooltip.node())},c.$afterInit=function(){this.$$.$el.svg.attr("style",null).style("width","0").style("height","0"),this.bindEvents(!0)},c.bindEvents=function(e){var n=this;void 0===e&&(e=!0);const i=this.$$.config;if(i.interaction_enabled&&i.tooltip_show){const i=(e?"add":"remove")+"EventListener";this.element.forEach(function(e){t(this,n);const r=e.querySelector("svg");r[i]("mouseover",this.overHandler),r[i]("mousemove",this.moveHandler),r[i]("mouseout",this.outHandler)}.bind(this))}},c.overHandler=function(t){this.$$.state.eventReceiver.rect=t.target.getBoundingClientRect()},c.moveHandler=function(t){var e,n;const i=this.$$,r=i.getDataIndexFromEvent(t),o=null==(e=i.api.data(t.target.__id))?void 0:e[0],s=null==o||null==(n=o.values)?void 0:n[r];s&&!s.name&&(s.name=s.id),i.state.event=t,null!=i.isPointFocusOnly&&i.isPointFocusOnly()&&s&&(null==i.showCircleFocus||i.showCircleFocus([s])),i.setExpand(r,o.id,!0),i.showTooltip([s],t.target)},c.outHandler=function(t){const e=this.$$;e.state.event=t,e.isPointFocusOnly()?e.hideCircleFocus():e.unexpandCircles(),e.hideTooltip()},c.$redraw=function(){var e,n=this;const i=this.$$,r=i.$el;let o=this.element;const s=i.api.data(),c=null==(e=r.chart.html().match(/<svg[^>]*>/))?void 0:e[0];if(o.length<s.length){const t=r.chart.node();for(let e=s.length-o.length;e>0;e--)t.parentNode.insertBefore(o[0].cloneNode(),t.nextSibling);this.element=document.querySelectorAll(this.config.selector),o=this.element}s.map(function(e){return t(this,n),e.id}.bind(this)).forEach(function(e,i){t(this,n);const s="."+l.target+"-"+e,a=r.main.selectAll(s);let b=o[i].querySelector("svg");b||(o[i].innerHTML=c+"</svg>",b=o[i].querySelector("svg"),b.__id=e),b.querySelector(s)||a.style("opacity",null),a.style("fill","none").style("opacity",null),b.innerHTML="",b.appendChild(a.node())}.bind(this))},c.$willDestroy=function(){var e=this;this.bindEvents(!1),this.element.forEach(function(n){t(this,e),n.innerHTML=""}.bind(this))},s}(b);_.version="0.0.1"}(),o=o.default}()}));