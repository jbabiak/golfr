/*!
 * Copyright (c) 2017 ~ present NAVER Corp.
 * billboard.js project is licensed under the MIT license
 *
 * billboard.js, JavaScript chart library
 * https://naver.github.io/billboard.js/
 *
 * @version 3.10.3
 * @requires billboard.js
 * @summary billboard.js plugin
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3-selection"),require("d3-brush")):"function"==typeof define&&define.amd?define("bb",["d3-selection","d3-brush"],e):"object"==typeof exports?exports.bb=e(require("d3-selection"),require("d3-brush")):(t.bb=t.bb||{},t.bb.plugin=t.bb.plugin||{},t.bb.plugin.tableview=e(t.d3,t.d3))}(this,(function(t,e){return function(){"use strict";var n={514:function(t){t.exports=e},288:function(e){e.exports=t}},i={};function o(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return n[t](r,r.exports,o),r.exports}o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var r={};return function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function n(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}o.d(r,{default:function(){return _}});let s=function(){function t(t){void 0===t&&(t={}),this.$$=void 0,this.options=void 0,this.options=t}var e=t.prototype;return e.$beforeInit=function(){},e.$init=function(){},e.$afterInit=function(){},e.$redraw=function(){},e.$willDestroy=function(){var t=this;Object.keys(this).forEach(function(e){n(this,t),this[e]=null,delete this[e]}.bind(this))},t}();s.version="3.10.3";let l=function(){return{selector:void 0,categoryTitle:"Category",categoryFormat:function(t){let e=t;return this.$$.axis.isCategorized()?e=this.$$.categoryName(t):this.$$.axis.isTimeSeries()&&(e=t.toLocaleDateString()),e},class:void 0,style:!0,title:void 0,updateOnToggle:!0,nullString:"-"}};const u="__tableview-style__",a="bb-tableview",f=".bb-tableview {\n\t\tborder-collapse:collapse;\n\t\tborder-spacing:0;\n\t\tbackground:#fff;\n\t\tmin-width:100%;\n\t\tmargin-top:10px;\n\t\tfont-family:sans-serif;\n\t\tfont-size:.9em;\n\t}\n\t.bb-tableview tr:hover {\n\t\tbackground:#eef7ff;\n\t}\n\t.bb-tableview thead tr {\n\t\tbackground:#f8f8f8;\n\t}\n\t.bb-tableview caption,.bb-tableview td,.bb-tableview th {\n\t\ttext-align: center;\n\t\tborder:1px solid silver;\n\t\tpadding:.5em;\n\t}\n\t.bb-tableview caption {\n\t\tfont-size:1.1em;\n\t\tfont-weight:700;\n\t\tmargin-bottom: -1px;\n\t}",b="<caption>{=title}</caption>\n\t\t<thead><tr>{=thead}</tr></thead>\n\t\t<tbody>{=tbody}</tbody>",d='<th scope="col">{=title}</th>',h='<th scope="row">{=value}</th>',p="<td>{=value}</td>";o(288),o(514);const v="object"==typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis||"object"==typeof global&&null!==global&&global.Object===Object&&global||"object"==typeof self&&null!==self&&self.Object===Object&&self||Function("return this")(),g=null==v?void 0:v.document,y=function(t){var e=this;const i="function"==typeof(null==t?void 0:t.requestAnimationFrame)&&"function"==typeof(null==t?void 0:t.cancelAnimationFrame),o="function"==typeof(null==t?void 0:t.requestIdleCallback)&&"function"==typeof(null==t?void 0:t.cancelIdleCallback),r=function(t){return n(this,e),setTimeout(t,1)}.bind(this),c=function(t){return n(this,e),clearTimeout(t)}.bind(this);return[i?t.requestAnimationFrame:r,i?t.cancelAnimationFrame:c,o?t.requestIdleCallback:r,o?t.cancelIdleCallback:c]}(v);y[0],y[1],y[2],y[3];var m=void 0;(function(t){return n(this,m),t||0===t}).bind(void 0),function(t){return n(this,m),"function"==typeof t}.bind(void 0);const w=function(t){return n(this,m),"string"==typeof t}.bind(void 0),O=function(t){return n(this,m),"number"==typeof t}.bind(void 0),j=function(t){return n(this,m),void 0===t}.bind(void 0),E=function(t){return n(this,m),void 0!==t}.bind(void 0),T=(function(t){return n(this,m),"boolean"==typeof t}.bind(void 0),function(t){return n(this,m),10*Math.ceil(t/10)}.bind(void 0),function(t){return n(this,m),Math.ceil(t)+.5}.bind(void 0),function(t){return n(this,m),t[1]-t[0]}.bind(void 0),function(t){return n(this,m),"object"==typeof t}.bind(void 0)),$=function(t){return n(this,m),j(t)||null===t||w(t)&&0===t.length||T(t)&&!(t instanceof Date)&&0===Object.keys(t).length||O(t)&&isNaN(t)}.bind(void 0),x=(function(t){return n(this,m),!$(t)}.bind(void 0),function(t){return n(this,m),Array.isArray(t)}.bind(void 0)),S=function(t){return n(this,m),t&&!(null!=t&&t.nodeType)&&T(t)&&!x(t)}.bind(void 0);(function(t){return n(this,m),t.charAt(0).toUpperCase()+t.slice(1)}).bind(void 0);(function(t){return n(this,m),[].slice.call(t)}).bind(void 0);function P(t){for(var e=this,i=arguments.length,o=Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];if(!o.length||1===o.length&&!o[0])return t;const c=o.shift();return S(t)&&S(c)&&Object.keys(c).forEach(function(i){n(this,e);const o=c[i];S(o)?(t[i]||(t[i]={}),t[i]=P(t[i],o)):t[i]=x(o)?o.concat():o}.bind(this)),P.apply(void 0,[t].concat(o))}(function(t,e,i){void 0===i&&(i=1),n(this,m);const o=[],r=0|Math.max(0,Math.ceil((e-t)/i));for(let e=t;e<r;e++)o.push(t+e*i);return o}).bind(void 0),function(){var t=this;n(this,m);const e=function(){return n(this,t),{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0}}.bind(this);try{return new MouseEvent("t"),function(i,o,r){void 0===r&&(r=e()),n(this,t),i.dispatchEvent(new MouseEvent(o,r))}.bind(this)}catch(i){return function(i,o,r){void 0===r&&(r=e()),n(this,t);const c=g.createEvent("MouseEvent");c.initMouseEvent(o,r.bubbles,r.cancelable,v,0,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),i.dispatchEvent(c)}.bind(this)}}.bind(void 0)(),function(t,e,i){n(this,m);const o=new Touch(P({identifier:Date.now(),target:t,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},i));t.dispatchEvent(new TouchEvent(e,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[o],targetTouches:[],changedTouches:[o]}))}.bind(void 0);function C(t,e){let n=t;for(const t in e)n=n.replace(new RegExp("{="+t+"}","g"),e[t]);return n}function k(t){var e=this;const i=this.config;let o,r,c;const s=function(){n(this,e);const t=r.shift();return t&&o&&T(o)&&t in o?(o=o[t],s()):t?void 0:o}.bind(this);Object.keys(i).forEach(function(l){n(this,e),o=t,r=l.split("_"),c=s(),E(c)&&(i[l]=c)}.bind(this)),this.api&&(this.state.orgConfig=t)}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function M(t){for(var n,i=1;i<arguments.length;i++)n=null!=arguments[i]?arguments[i]:{},i%2?A(Object(n),!0).forEach((function(i){var o,r,c;o=t,r=i,c=n[i],(r=e(r))in o?Object.defineProperty(o,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[r]=c})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}));return t}let _=function(t){var e,o;function r(e){var n=t.call(this,e)||this;return n.config=void 0,n.element=void 0,n.config=new l,i(n)||i(n)}o=t,(e=r).prototype=Object.create(o.prototype),e.prototype.constructor=e,c(e,o);var s=r.prototype;return s.$beforeInit=function(){k.call(this,this.options)},s.$init=function(){var t;const e=this.config,n=e.class,i=e.selector,o=e.style;let r=document.querySelector(i||"."+(n||a));if(!r){const t=this.$$.$el.chart.node();r=document.createElement("table"),t.parentNode.insertBefore(r,t.nextSibling)}if("TABLE"!==r.tagName){const t=document.createElement("table");r.appendChild(t),r=t}if(o&&!document.getElementById(u)){const t=document.createElement("style");t.id=u,t.innerHTML=f,(document.head||document.getElementsByTagName("head")[0]).appendChild(t)}(t=r.classList).add.apply(t,[o&&a,n].filter(Boolean)),this.element=r},s.generateTable=function(){var t=this;const e=this.$$,i=this.config,o=this.element,r=e.filterTargetsToShow(e.data.targets);let c=C(d,{title:r.length?this.config.categoryTitle:""}),s="";const l=[];r.forEach(function(e){var i=this;n(this,t),c+=C(d,{title:e.id}),e.values.forEach(function(t,e){n(this,i),l[e]||(l[e]=[t.x]),l[e].push(t.value)}.bind(this))}.bind(this)),l.forEach(function(e){var o=this;n(this,t),s+="<tr>"+e.map(function(t,e){return n(this,o),C(e?p:h,{value:0===e?i.categoryFormat.bind(this)(t):O(t)?t.toLocaleString():i.nullString})}.bind(this)).join("")+"</tr>"}.bind(this));const u=C(b,M(M({},i),{},{title:i.title||e.config.title_text||"",thead:c,tbody:s})).replace(/(<\/?(script|img)[^>]*>|<[^>]+><\/[^>]+>)/gi,"");o.innerHTML=u},s.$redraw=function(){const t=this.$$.state;t.resizing||!this.config.updateOnToggle&&t.toggling||this.generateTable()},s.$willDestroy=function(){var t;if(null==(t=this.element.parentNode)||t.removeChild(this.element),1===this.$$.charts.length){var e;const t=document.getElementById(u);null==t||null==(e=t.parentNode)||e.removeChild(t)}},r}(s)}(),r=r.default}()}));